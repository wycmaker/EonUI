import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{R as $,r as C}from"./iframe-lqGEyVtj.js";import{c as o}from"./cn-Dtjc6EhN.js";import{s as k,r as I}from"./clearable-C08SD5GV.js";import{c as M}from"./formStyles-D_LMpAhg.js";const d=$.forwardRef(({className:f,variant:x="default",size:n="md",status:c="default",clearable:F=!1,onClear:b,disabled:m,value:a,resize:w="vertical",minRows:B=3,maxRows:p,maxLength:e,showCount:V=!1,onChange:v,autoComplete:q="off",...A},z)=>{const[l,i]=C.useState(0);C.useEffect(()=>{const u=typeof a=="string"?a.length:0;i(u)},[a]);const N={none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"},D=e?l>e:!1,E=e?l>=e*.8:!1,_=u=>{const s=u.target.value;e&&s.length>e||(i(s.length),v&&v(u))},j=()=>{i(0),b?.()},r=k(F||!1,a,m||!1),h=V||e,y=u=>{const S=n==="lg"?16:14,T=n==="sm"?16:n==="md"?24:32;return Math.ceil(u*S*1.5+T)},H=o("w-full",M(x,n,c,"textarea"),N[w],r&&"pr-10",h&&"pb-6",f),R=y(B),g=p?y(p):void 0;return t.jsxs("div",{className:"relative inline-block w-full",children:[t.jsx("textarea",{ref:z,className:H,disabled:m,"aria-invalid":c==="error",value:a,onChange:_,maxLength:e,autoComplete:q,style:{minHeight:`${R}px`,maxHeight:g?`${g}px`:void 0},...A}),r&&t.jsx("div",{className:"absolute top-3 right-3",children:I(r,j,"清除輸入內容")}),h&&t.jsx("div",{className:o("absolute bottom-2 right-3 pointer-events-none",r&&"right-12"),children:t.jsx("span",{className:o("text-xs transition-colors bg-white/80 px-1 rounded",D?"text-error font-medium":E?"text-warning":"text-gray-500"),"aria-live":"polite",children:e?`${l}/${e}`:l})})]})});d.displayName="Textarea";try{d.displayName="Textarea",d.__docgenInfo={description:"",displayName:"Textarea",props:{variant:{defaultValue:{value:"default"},description:"文字區域的視覺樣式變體",name:"variant",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"outline"'},{value:'"default"'},{value:'"filled"'}]}},size:{defaultValue:{value:"md"},description:"文字區域的大小",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},status:{defaultValue:{value:"default"},description:"文字區域的狀態",name:"status",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"success"'},{value:'"warning"'},{value:'"error"'},{value:'"default"'}]}},clearable:{defaultValue:{value:"false"},description:"是否顯示清除按鈕",name:"clearable",required:!1,type:{name:"boolean | undefined"}},onClear:{defaultValue:null,description:"清除按鈕的回調函數",name:"onClear",required:!1,type:{name:"(() => void) | undefined"}},resize:{defaultValue:{value:"vertical"},description:"是否可調整大小",name:"resize",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"none"'},{value:'"both"'},{value:'"horizontal"'},{value:'"vertical"'}]}},minRows:{defaultValue:{value:"3"},description:"最小行數",name:"minRows",required:!1,type:{name:"number | undefined"}},maxRows:{defaultValue:null,description:"最大行數",name:"maxRows",required:!1,type:{name:"number | undefined"}},maxLength:{defaultValue:null,description:"最大字數限制",name:"maxLength",required:!1,type:{name:"number | undefined"}},showCount:{defaultValue:{value:"false"},description:"是否顯示字數統計",name:"showCount",required:!1,type:{name:"boolean | undefined"}},autoComplete:{defaultValue:{value:"off"},description:"自動完成屬性",name:"autoComplete",required:!1,type:{name:"string | undefined"}}}}}catch{}export{d as T};
